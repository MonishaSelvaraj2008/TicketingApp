

<div *ngIf="values.length > 0; else noUserStories">
    <div class="relative overflow-x-auto shadow-md sm:rounded-lg">
        <table class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400">
            <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                <tr>
                    <th scope="col" class="px-6 py-3 text-center">
                        S no 
                    </th>
                    <th scope="col" class="px-6 py-3 text-center">
                        Responsible
                    </th>
                    <th scope="col" class="px-6 py-3 text-center">
                        Story Point
                    </th>
                    <th scope="col" class="px-6 py-3 text-center">
                        acceptance Criteria
                    </th>
                    <th scope="col" class="px-6 py-3 text-center">
                        Description
                    </th>
                    <th scope="col" class="px-6 py-3 text-center">
                        Status
                    </th>
                    <th scope="col" class="px-6 py-3 text-center">
                        Comments
                    </th>
                    <th scope="col" class="px-6 py-3 text-center">
                        Version
                    </th>
                </tr>
            </thead>
            <tbody *ngFor="let data of values.slice(currentPageStartIndex(), currentPageEndIndex()); let i = index">
                <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">
                    <td class="px-6 py-4 text-center">
                        {{i + 1}}
                    </td>
                    <td class="px-6 py-4 text-center">
                        {{data.responsibleName}}
                    </td>
                    <td class="px-6 py-4 text-center">
                        {{data.storyPoint}}
                    </td>
                    <td class="px-6 py-4 text-center">
                        {{data.acceptanceCriteria}}
                    </td>
                    <td class="px-6 py-4 text-center">
                        {{data.description}}
                    </td>
                    <td class="px-6 py-4 text-center">
                        <span *ngIf="data.status === 'Open' " class="px-2 py-1 font-semibold leading-tight text-green-700 bg-green-100 rounded-sm">{{data.status}}</span>
                        <span *ngIf="data.status === 'In Progress' " class="px-2 py-1 font-semibold leading-tight text-blue-700 bg-blue-100 rounded-sm">{{data.status}}</span>
                        <span *ngIf="data.status === 'On Hold' " class="px-2 py-1 font-semibold leading-tight text-yellow-700 bg-yellow-100 rounded-sm">{{data.status}}</span>
                        <span *ngIf="data.status === 'Resolved' " class="px-2 py-1 font-semibold leading-tight text-green-700 bg-green-100 rounded-sm">{{data.status}}</span>
                        <span *ngIf="data.status === 'Closed' " class="px-2 py-1 font-semibold leading-tight text-red-700 bg-red-100 rounded-sm">{{data.status}}</span>
                        <span *ngIf="data.status === 'Pending' " class="px-2 py-1 font-semibold leading-tight text-gray-700 bg-gray-100 rounded-sm">{{data.status}}</span>
                    </td>
                    <td class="px-6 py-4 text-center">
                        {{data.comments}}
                    </td>
                    <td class="px-6 py-4 text-center ">
                        <span class="px-2 py-1 font-semibold leading-tight text-green-700 bg-green-100 rounded-sm hidden sm:block">{{data.version}}</span>
                    </td>
                </tr>
            </tbody>
        </table>
    
        <!-- pagination -->
        <nav class="flex items-center flex-column flex-wrap md:flex-row justify-between pt-4" aria-label="Table navigation">
            <span class="text-sm font-normal text-gray-500 dark:text-gray-400 mb-4 md:mb-0 block w-full md:inline md:w-auto">
                Showing <span class="font-semibold text-gray-900 dark:text-white">&nbsp;{{ currentPageStartIndex() }}&nbsp;-&nbsp;{{ currentPageEndIndex() }}</span> &nbsp; of &nbsp; <span class="font-semibold text-gray-900 dark:text-white">{{ values.length }}</span>
            </span>
            <ul class="inline-flex -space-x-px rtl:space-x-reverse text-sm h-8">
                <li>
                    <a routerLink="userStoryList" (click)="goToPage(currentPage - 1)"  class="flex items-center justify-center px-3 h-8 ms-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-s-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">Previous</a>
                </li>
                <li *ngFor="let page of getPages()">
                    <a routerLink="userStoryList" (click)="goToPage(page)" [class.active]="currentPage === page" class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-blue border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">{{ page }}</a>
                </li>
                <li>
                    <a routerLink="userStoryList" (click)="goToPage(currentPage + 1)" class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-e-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">Next</a>
                </li>
            </ul>
        </nav><br>
    </div>    
</div>

<ng-template #noUserStories>
    <p>No History Found.</p>
  </ng-template>
